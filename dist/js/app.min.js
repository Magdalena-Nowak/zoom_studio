"use strict";gsap.registerPlugin(ScrollTrigger);var titleText="ZOOM Studio",titleDiv=document.querySelector(".home__title"),time=100,images=document.querySelectorAll(".team img"),userName=document.querySelector("#name"),userEmail=document.querySelector("#email"),submitBtn=document.querySelector(".contact__submit"),textArea=document.querySelector(".input-group-prepend textarea"),confirmPopup=document.querySelector(".popup"),confirmBtn=document.querySelector(".popup__btn"),min=5,errMessage="",writing="",indexText=0;$(document).click(function(e){e=$(e.target);!0!==$(".navbar-collapse").hasClass("show")||e.hasClass("navbar-toggler")||$(".navbar-toggler").click()});var addLetter=function(){titleDiv.textContent+=titleText[indexText],++indexText===titleText.length&&clearInterval(indexTyping)},indexTyping=setInterval(addLetter,time),tl=gsap.timeline({scrollTrigger:{trigger:"#home",start:"top top",end:"+=500",snap:{snapTo:"labels",duration:{min:.2,max:3},delay:.2,ease:"power1.inOut"}}});tl.addLabel("start").from(".home__text",{yPercent:100,rotation:45,opacity:0}).addLabel("position").from(".home__button",{yPercent:100,opacity:0}).addLabel("end");var newTl=gsap.timeline({scrollTrigger:{trigger:"#about",start:"top center",end:"+=500",snap:{snapTo:"labels",duration:{min:.2,max:3},delay:.2,ease:"power1.inOut"}}});newTl.addLabel("start").from(".about h2",{yPercent:100,opacity:0}).addLabel("position").from(".about__card",{yPercent:-300,xPercent:200,stagger:.4,duration:1}).addLabel("header").fromTo(".collapse__wrapper h2",{yPercent:100,opacity:0,delay:1},{yPercent:0,opacity:1}).addLabel("nextHeader").from(".team h2",{yPercent:100,opacity:0,delay:1}).addLabel("end"),images.forEach(function(e){ScrollTrigger.create({trigger:e,start:"top center",end:"bottom top",animation:gsap.from(e,{skewY:"25deg",opacity:0,stagger:.3})})}),ScrollTrigger.create({trigger:"#contact",start:"top bottom",animation:gsap.from(".contact h2",{yPercent:100,opacity:0})});var selectParent=function(e,t){e=e.parentElement.parentElement.querySelector(".form__info");e.classList.add("error"),e.textContent=t},showErr=function(e,t){e.classList.add("alert-warning"),selectParent(e,t)},checkEmail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?(e.parentElement.parentElement.querySelector(".form__info").classList.remove("error"),e.classList.remove("alert-warning")):showErr(e,"E-mail jest niepoprawny")},checkForm=function(e){e.forEach(function(e){""==e.value&&showErr(e,e.placeholder)})},checkLength=function(e,t){var r;e.value.length<t?(r=e.getAttribute("placeholder"),errMessage="".concat(r," musi składać się z min. ").concat(t," znaków"),showErr(e,errMessage)):(e.parentElement.parentElement.querySelector(".form__info").classList.remove("error"),e.classList.remove("alert-warning"))},checkErrors=function(){var e=document.querySelectorAll(".form-control"),t=0;e.forEach(function(e){e.parentElement.parentElement.querySelector(".form__info").classList.contains("error")&&t++}),0===t&&confirmPopup.classList.add("active")},clearInput=function(){document.querySelectorAll(".form-control").forEach(function(e){return e.value=""})};submitBtn.addEventListener("click",function(e){e.preventDefault(),checkForm([userName,userEmail,textArea]),checkLength(userName,min),checkLength(textArea,min),checkEmail(userEmail),checkErrors()}),confirmBtn.addEventListener("click",function(){confirmPopup.classList.remove("active"),clearInput()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJnc2FwIiwicmVnaXN0ZXJQbHVnaW4iLCJTY3JvbGxUcmlnZ2VyIiwidGl0bGVUZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGl0bGVEaXYiLCJ0aW1lIiwicXVlcnlTZWxlY3RvckFsbCIsImltYWdlcyIsInVzZXJOYW1lIiwidXNlckVtYWlsIiwic3VibWl0QnRuIiwidGV4dEFyZWEiLCJjb25maXJtUG9wdXAiLCJjb25maXJtQnRuIiwibWluIiwiZXJyTWVzc2FnZSIsIndyaXRpbmciLCIkIiwiY2xpY2siLCJldmVudCIsImNsaWNrb3ZlciIsInRhcmdldCIsImhhc0NsYXNzIiwiYWRkTGV0dGVyIiwidGV4dENvbnRlbnQiLCJpbmRleFRleHQiLCJpbmRleFR5cGluZyIsInNldEludGVydmFsIiwic2Nyb2xsVHJpZ2dlciIsInRpbWVsaW5lIiwidHJpZ2dlciIsInN0YXJ0IiwiZW5kIiwic25hcCIsInNuYXBUbyIsIm1heCIsImR1cmF0aW9uIiwidGwiLCJhZGRMYWJlbCIsImZyb20iLCJ5UGVyY2VudCIsInJvdGF0aW9uIiwib3BhY2l0eSIsIm5ld1RsIiwiZGVsYXkiLCJlYXNlIiwieFBlcmNlbnQiLCJzdGFnZ2VyIiwiaW1hZ2UiLCJjcmVhdGUiLCJza2V3WSIsImFuaW1hdGlvbiIsImlucHV0IiwibWVzc2FnZSIsImVycm9yVGFnIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInNob3dFcnIiLCJhZGQiLCJzZWxlY3RQYXJlbnQiLCJ0ZXN0IiwidmFsdWUiLCJyZW1vdmUiLCJjaGVja0VtYWlsIiwiY2hlY2tGb3JtIiwiaW5wdXRQYXJlbnQiLCJpbnB1dHMiLCJwbGFjZWhvbGRlciIsImNoZWNrTGVuZ3RoIiwiZm9yRWFjaCIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsImlucHV0QXR0cmlidXRlIiwiYWxsSW5wdXRzIiwiZXJyb3JDb3VudCIsImNvbnRhaW5zIiwiY2xlYXJJbnB1dCIsImFk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OlsiZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcclxuXHJcbmNvbnN0IHRpdGxlVGV4dCA9IFwiWk9PTSBTdHVkaW9cIjtcclxuY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWVfX3RpdGxlXCIpO1xyXG5jb25zdCB0aW1lID0gMTAwO1xyXG5jb25zdCBpbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRlYW0gaW1nXCIpO1xyXG5jb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3QgdXNlckVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWFpbFwiKTtcclxuY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19zdWJtaXRcIik7XHJcbmNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dC1ncm91cC1wcmVwZW5kIHRleHRhcmVhXCIpO1xyXG5jb25zdCBjb25maXJtUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpO1xyXG5jb25zdCBjb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnRuXCIpO1xyXG5jb25zdCBtaW4gPSA1O1xyXG5sZXQgZXJyTWVzc2FnZSA9IFwiXCI7XHJcbmxldCB3cml0aW5nID0gXCJcIjtcclxubGV0IGluZGV4VGV4dCA9IDA7XHJcblxyXG4kKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICB2YXIgY2xpY2tvdmVyID0gJChldmVudC50YXJnZXQpO1xyXG4gIHZhciBfb3BlbmVkID0gJChcIi5uYXZiYXItY29sbGFwc2VcIikuaGFzQ2xhc3MoXCJzaG93XCIpO1xyXG4gIGlmIChfb3BlbmVkID09PSB0cnVlICYmICFjbGlja292ZXIuaGFzQ2xhc3MoXCJuYXZiYXItdG9nZ2xlclwiKSkge1xyXG4gICAgJChcIi5uYXZiYXItdG9nZ2xlclwiKS5jbGljaygpO1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBhZGRMZXR0ZXIgPSAoKSA9PiB7XHJcbiAgdGl0bGVEaXYudGV4dENvbnRlbnQgKz0gdGl0bGVUZXh0W2luZGV4VGV4dF07XHJcbiAgaW5kZXhUZXh0Kys7XHJcbiAgaWYgKGluZGV4VGV4dCA9PT0gdGl0bGVUZXh0Lmxlbmd0aCkgY2xlYXJJbnRlcnZhbChpbmRleFR5cGluZyk7XHJcbn07XHJcblxyXG5jb25zdCBpbmRleFR5cGluZyA9IHNldEludGVydmFsKGFkZExldHRlciwgdGltZSk7XHJcblxyXG5sZXQgdGwgPSBnc2FwLnRpbWVsaW5lKHtcclxuICBzY3JvbGxUcmlnZ2VyOiB7XHJcbiAgICB0cmlnZ2VyOiBcIiNob21lXCIsXHJcbiAgICBzdGFydDogXCJ0b3AgdG9wXCIsXHJcbiAgICBlbmQ6IFwiKz01MDBcIixcclxuICAgIHNuYXA6IHtcclxuICAgICAgc25hcFRvOiBcImxhYmVsc1wiLFxyXG4gICAgICBkdXJhdGlvbjogeyBtaW46IDAuMiwgbWF4OiAzIH0sXHJcbiAgICAgIGRlbGF5OiAwLjIsXHJcbiAgICAgIGVhc2U6IFwicG93ZXIxLmluT3V0XCIsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxudGwuYWRkTGFiZWwoXCJzdGFydFwiKVxyXG4gIC5mcm9tKFwiLmhvbWVfX3RleHRcIiwgeyB5UGVyY2VudDogMTAwLCByb3RhdGlvbjogNDUsIG9wYWNpdHk6IDAgfSlcclxuICAuYWRkTGFiZWwoXCJwb3NpdGlvblwiKVxyXG4gIC5mcm9tKFwiLmhvbWVfX2J1dHRvblwiLCB7IHlQZXJjZW50OiAxMDAsIG9wYWNpdHk6IDAgfSlcclxuICAuYWRkTGFiZWwoXCJlbmRcIik7XHJcblxyXG5sZXQgbmV3VGwgPSBnc2FwLnRpbWVsaW5lKHtcclxuICBzY3JvbGxUcmlnZ2VyOiB7XHJcbiAgICB0cmlnZ2VyOiBcIiNhYm91dFwiLFxyXG4gICAgc3RhcnQ6IFwidG9wIGNlbnRlclwiLFxyXG4gICAgZW5kOiBcIis9NTAwXCIsXHJcbiAgICBzbmFwOiB7XHJcbiAgICAgIHNuYXBUbzogXCJsYWJlbHNcIixcclxuICAgICAgZHVyYXRpb246IHsgbWluOiAwLjIsIG1heDogMyB9LFxyXG4gICAgICBkZWxheTogMC4yLFxyXG4gICAgICBlYXNlOiBcInBvd2VyMS5pbk91dFwiLFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuXHJcbm5ld1RsXHJcbiAgLmFkZExhYmVsKFwic3RhcnRcIilcclxuICAuZnJvbShcIi5hYm91dCBoMlwiLCB7IHlQZXJjZW50OiAxMDAsIG9wYWNpdHk6IDAgfSlcclxuICAuYWRkTGFiZWwoXCJwb3NpdGlvblwiKVxyXG4gIC5mcm9tKFwiLmFib3V0X19jYXJkXCIsIHtcclxuICAgIHlQZXJjZW50OiAtMzAwLFxyXG4gICAgeFBlcmNlbnQ6IDIwMCxcclxuICAgIHN0YWdnZXI6IDAuNCxcclxuICAgIGR1cmF0aW9uOiAxLFxyXG4gIH0pXHJcbiAgLmFkZExhYmVsKFwiaGVhZGVyXCIpXHJcbiAgLmZyb21UbyhcclxuICAgIFwiLmNvbGxhcHNlX193cmFwcGVyIGgyXCIsXHJcbiAgICB7IHlQZXJjZW50OiAxMDAsIG9wYWNpdHk6IDAsIGRlbGF5OiAxIH0sXHJcbiAgICB7IHlQZXJjZW50OiAwLCBvcGFjaXR5OiAxIH1cclxuICApXHJcbiAgLmFkZExhYmVsKFwibmV4dEhlYWRlclwiKVxyXG4gIC5mcm9tKFwiLnRlYW0gaDJcIiwgeyB5UGVyY2VudDogMTAwLCBvcGFjaXR5OiAwLCBkZWxheTogMSB9KVxyXG4gIC5hZGRMYWJlbChcImVuZFwiKTtcclxuXHJcbmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xyXG4gIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcclxuICAgIHRyaWdnZXI6IGltYWdlLFxyXG4gICAgc3RhcnQ6IFwidG9wIGNlbnRlclwiLFxyXG4gICAgZW5kOiBcImJvdHRvbSB0b3BcIixcclxuICAgIGFuaW1hdGlvbjogZ3NhcC5mcm9tKGltYWdlLCB7XHJcbiAgICAgIHNrZXdZOiBcIjI1ZGVnXCIsXHJcbiAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgIHN0YWdnZXI6IDAuMyxcclxuICAgIH0pLFxyXG4gIH0pO1xyXG59KTtcclxuXHJcblNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcclxuICB0cmlnZ2VyOiBcIiNjb250YWN0XCIsXHJcbiAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxyXG4gIGFuaW1hdGlvbjogZ3NhcC5mcm9tKFwiLmNvbnRhY3QgaDJcIiwgeyB5UGVyY2VudDogMTAwLCBvcGFjaXR5OiAwIH0pLFxyXG59KTtcclxuXHJcbmNvbnN0IHNlbGVjdFBhcmVudCA9IChpbnB1dCwgbWVzc2FnZSkgPT4ge1xyXG4gIGNvbnN0IGlucHV0UGFyZW50ID0gaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gIGNvbnN0IGVycm9yVGFnID0gaW5wdXRQYXJlbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbmZvXCIpO1xyXG4gIGVycm9yVGFnLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICBlcnJvclRhZy50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbn07XHJcblxyXG5jb25zdCBzaG93RXJyID0gKGlucHV0LCBtZXNzYWdlKSA9PiB7XHJcbiAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImFsZXJ0LXdhcm5pbmdcIik7XHJcbiAgc2VsZWN0UGFyZW50KGlucHV0LCBtZXNzYWdlKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRW1haWwgPSAoaW5wdXQpID0+IHtcclxuICBjb25zdCBlbWFpbFJlZ2V4ID1cclxuICAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICBpZiAoZW1haWxSZWdleC50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG4gICAgY29uc3QgaW5wdXRQYXJlbnQgPSBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICBjb25zdCBlcnJvclRhZyA9IGlucHV0UGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5mb1wiKTtcclxuICAgIGVycm9yVGFnLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJhbGVydC13YXJuaW5nXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzaG93RXJyKGlucHV0LCBcIkUtbWFpbCBqZXN0IG5pZXBvcHJhd255XCIpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IChpbnB1dHMpID0+IHtcclxuICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGlmIChpbnB1dC52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgIHNob3dFcnIoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrTGVuZ3RoID0gKGlucHV0LCBtaW4pID0+IHtcclxuICBpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgbWluKSB7XHJcbiAgICBjb25zdCBpbnB1dEF0dHJpYnV0ZSA9IGlucHV0LmdldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpO1xyXG4gICAgZXJyTWVzc2FnZSA9IGAke2lucHV0QXR0cmlidXRlfSBtdXNpIHNrxYJhZGHEhyBzacSZIHogbWluLiAke21pbn0gem5ha8Ozd2A7XHJcbiAgICBzaG93RXJyKGlucHV0LCBlcnJNZXNzYWdlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgaW5wdXRQYXJlbnQgPSBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICBjb25zdCBlcnJvclRhZyA9IGlucHV0UGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5mb1wiKTtcclxuICAgIGVycm9yVGFnLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJhbGVydC13YXJuaW5nXCIpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybS1jb250cm9sXCIpO1xyXG4gIGxldCBlcnJvckNvdW50ID0gMDtcclxuICBhbGxJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGNvbnN0IGlucHV0UGFyZW50ID0gaW5wdXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgY29uc3QgZXJyb3JUYWcgPSBpbnB1dFBhcmVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2luZm9cIik7XHJcbiAgICBpZiAoZXJyb3JUYWcuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3JcIikpIHtcclxuICAgICAgZXJyb3JDb3VudCsrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGlmIChlcnJvckNvdW50ID09PSAwKSB7XHJcbiAgICBjb25maXJtUG9wdXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjbGVhcklucHV0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybS1jb250cm9sXCIpO1xyXG4gIGFsbElucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gKGlucHV0LnZhbHVlID0gXCJcIikpO1xyXG59O1xyXG5cclxuc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjaGVja0Zvcm0oW3VzZXJOYW1lLCB1c2VyRW1haWwsIHRleHRBcmVhXSk7XHJcbiAgY2hlY2tMZW5ndGgodXNlck5hbWUsIG1pbik7XHJcbiAgY2hlY2tMZW5ndGgodGV4dEFyZWEsIG1pbik7XHJcbiAgY2hlY2tFbWFpbCh1c2VyRW1haWwpO1xyXG4gIGNoZWNrRXJyb3JzKCk7XHJcbn0pO1xyXG5cclxuY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbmZpcm1Qb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gIGNsZWFySW5wdXQoKTtcclxufSk7XHJcbiJdfQ==
